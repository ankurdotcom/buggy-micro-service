import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

public class BadCodeExample {

    public static void main(String[] args) {
        List<String> data = readFile("data.txt");

        for (int i = 0; i < data.size(); i++) {
            System.out.println("Processing: " + data.get(i));
        }

        String result = processText(data);
        System.out.println("Final Result: " + result);

        System.out.println("Duplicate Check: " + checkDuplicate(data));
    }

    public static List<String> readFile(String filePath) {
        List<String> list = new ArrayList<>();
        try {
            BufferedReader br = new BufferedReader(new FileReader(filePath));
            String line;
            while ((line = br.readLine()) != null) {
                list.add(line);
            }
            br.close(); // Potential resource leak if an exception occurs before this line
        } catch (Exception e) {
            System.out.println("Error reading file: " + e.getMessage()); 
        }
        return list;
    }

    public static String processText(List<String> data) {
        String output = "";
        for (String s : data) {
            output += s + ","; 
        }
        return output; // Returns a trailing comma unnecessarily
    }

    public static boolean checkDuplicate(List<String> list) {
        for (int i = 0; i < list.size(); i++) {
            for (int j = i + 1; j < list.size(); j++) {
                if (list.get(i).equals(list.get(j))) {
                    return true; 
                }
            }
        }
        return false;
    }
}
